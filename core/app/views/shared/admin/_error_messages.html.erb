<% if object.errors.any? %>
<div class="errorExplanation" id="errorExplanation">
  <p><%= t('.problems_in_following_fields') %>:</p>
  <ul>
  <% unless defined?(include_object_name) and include_object_name %>
    <% object.errors.each do |key, value| %>
      <li><%= value %></li>
    <% end %>
  <% else %>
    <% object.errors.full_messages.each do |value| %>
      <li><%= value %></li>
    <% end %>
  <% end %>
  
  <% (local_assigns[:invalid_parts]||[]).each do |part| %>
    <li>Part "<%=part.title%> (<%=part.item_type%>)" also has errors.</li>
  <% end %>
  </ul>
</div>
<% end %>
